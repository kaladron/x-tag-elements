<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8" />
		
		<title>Modal Demo - X-Tag</title>
		
		<script type="text/javascript" src="../../lib/x-tag/x-tag.js"></script>

		<link rel="stylesheet" type="text/css" href="../modal.css"/>
		<script type="text/javascript" src="../modal.js"></script>
				
		<style type="text/css">
			#modal_demo{
				background-color: white;
			}
		</style>
	</head>

<body>


        <p>This demo will show an alert if the ESC key is hit</p>
	<button data-action-type="openModal">Open Modal</button>
	<x-modal id="modal_demo" overlay hide esc-hide>
		<p>
			All the railway lines north of the Thames and the South-Eastern people at Cannon Street had been warned by midnight on Sunday, and trains were being filled. 
			People were fighting savagely for standing-room in the carriages even at two o'clock.  By three, people were being trampled and crushed even in Bishopsgate Street, 
			a couple of hundred yards or more from Liverpool Street station; revolvers were fired, people stabbed, and the policemen who had been sent to direct the traffic, 
			exhausted and infuriated, were breaking the heads of the people they were called out to protect.
		</p>

		<p>
			And as the day advanced and the engine drivers and stokers refused to return to London, the pressure of the flight drove the people in an ever-thickening multitude 
			away from the stations and along the northward-running roads.  By midday a Martian had been seen at Barnes, and a cloud of slowly sinking black vapour drove along 
			the Thames and across the flats of Lambeth, cutting off all escape over the bridges in its sluggish advance.  Another bank drove over Ealing, and surrounded a little 
			island of survivors on Castle Hill, alive, but unable to escape.
		</p>
		<div>
			<button data-action-type="toggleOverlay">Toggle Overlay</button>
			<button data-action-type="closeModal">Close</button>
		</div>
	</x-modal>
</body>

<script type="text/javascript">					


xtag.addEvent(document, 'click:delegate(button)', function(e){
	var modal = document.getElementById('modal_demo');
	switch(e.target.getAttribute('data-action-type')){
		case 'toggleOverlay':
			modal[(modal.getAttribute('overlay') != null? 'remove' : 'set') + 'Attribute']('overlay', null);
			break;
		case 'closeModal':
			modal.setAttribute('hide', null);
			break;
		case 'openModal':
			modal.removeAttribute('hide');
			break;

	}
});

document.getElementById('modal_demo').addEventListener(
                                      'modalhide', function(e) {
    e.preventDefault();
    alert('Escape key seen!');
  }

);


</script>

</html>
